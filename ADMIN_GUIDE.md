# 管理员使用指南

## 快速开始

### 1. 登录管理员账户

使用默认管理员账户登录：
- 访问: `http://localhost:3000`
- 用户名: `admin`
- 密码: `admin123`

### 2. 进入管理后台

登录成功后，点击右上角的"管理后台"按钮，或直接访问：
`http://localhost:3000/admin.html`

## 功能详解

### 👥 用户管理

#### 创建新用户
1. 点击"创建用户"按钮
2. 填写用户信息：
   - 用户名（唯一）
   - 密码
   - 英雄身份（从下拉列表选择）
   - 角色（普通用户/管理员）
3. 点击"创建"完成

#### 删除用户
- 在用户卡片上点击"删除"按钮
- 确认删除操作
- 注意：默认管理员账户（admin）不能被删除

#### 快速分配任务
- 在用户卡片上点击"分配任务"按钮
- 系统会自动选中该用户
- 填写任务信息并提交

### 📋 任务管理

#### 查看所有任务
- 切换到"任务管理"标签
- 可以看到所有用户的任务列表
- 显示信息包括：
  - 任务标题
  - 分配给谁
  - 分配人（如果是管理员分配）
  - 任务状态
  - 优先级

#### 分配任务给用户
1. 点击"分配任务"按钮
2. 选择目标用户
3. 填写任务信息：
   - 任务标题
   - 任务描述
   - 优先级（低/中/高/紧急）
4. 点击"分配"完成

分配的任务会自动出现在用户的"待执行任务"列中。

### 📊 数据统计

#### 每日完成任务统计
- 显示最近7天的任务完成情况
- 每天显示：
  - 完成日期
  - 完成任务数量
  - 部分任务标题预览

#### 用户任务统计
- 显示所有普通用户的任务情况
- 每个用户显示：
  - 英雄身份和用户名
  - 待完成任务数
  - 已完成任务数
  - 总任务数

## 普通用户功能

### 任务拖拽
- 用户可以拖动任务卡片到不同的列
- 三个列：待执行任务、执行中、已完成
- 拖动到"已完成"列会自动记录完成时间

### 任务折叠
- 当某一列的任务超过6个时
- 多余的任务会自动折叠隐藏
- 点击"显示更多 (X)"按钮展开所有任务
- 点击"收起"按钮重新折叠

### 任务操作
- 编辑：点击任务卡片上的✏️按钮
- 删除：点击任务卡片上的🗑️按钮
- 创建：点击每列顶部的"+"按钮

## 最佳实践

### 用户管理
1. 为每个团队成员创建独立账户
2. 选择合适的英雄身份，增加趣味性
3. 根据需要设置管理员权限
4. 定期检查用户任务完成情况

### 任务分配
1. 根据任务紧急程度设置优先级
2. 在任务描述中写清楚具体要求
3. 合理分配任务，避免某个用户任务过多
4. 定期查看任务完成情况

### 数据统计
1. 每天查看完成任务统计
2. 关注任务完成率低的用户，及时沟通
3. 根据统计数据调整任务分配策略

## 权限说明

### 管理员权限
- ✅ 创建和删除用户
- ✅ 给任何用户分配任务
- ✅ 查看所有用户的任务
- ✅ 查看统计数据
- ✅ 管理自己的任务

### 普通用户权限
- ✅ 创建自己的任务
- ✅ 编辑和删除自己的任务
- ✅ 拖拽任务改变状态
- ✅ 查看自己的任务统计
- ❌ 无法访问管理后台
- ❌ 无法查看其他用户的任务

## 常见问题

### Q: 忘记管理员密码怎么办？
A: 可以删除 `avengers_todo.db` 文件，重启服务器会自动创建新的数据库和默认管理员账户。

### Q: 可以创建多个管理员吗？
A: 可以。在创建用户时，将角色选择为"管理员"即可。

### Q: 删除用户后，该用户的任务会怎样？
A: 用户被删除后，其任务仍然保留在数据库中，但无法再访问。

### Q: 任务折叠的数量可以修改吗？
A: 可以。在 `public/app.js` 文件中修改 `maxVisible` 变量的值（默认为6）。

### Q: 如何导出统计数据？
A: 目前暂不支持导出功能，这是未来的开发计划之一。

## 技术支持

如有问题，请查看：
- 主文档：`README.md`
- 服务器日志：查看控制台输出
- 数据库：使用 SQLite 工具查看 `avengers_todo.db`
